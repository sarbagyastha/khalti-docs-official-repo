



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Android SDK - Khalti Payment Gateway</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../style/custom.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#khalti-android-sdk" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Khalti Payment Gateway" class="md-header-nav__button md-logo">
          
            <img src="../../img/khalti_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Khalti Payment Gateway
            </span>
            <span class="md-header-nav__topic">
              
                Android SDK
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/khalti/khalti-docs-official-repo/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    khalti/khalti-docs-official-repo
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Khalti Payment Gateway" class="md-nav__button md-logo">
      
        <img src="../../img/khalti_logo.png" width="48" height="48">
      
    </a>
    Khalti Payment Gateway
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/khalti/khalti-docs-official-repo/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    khalti/khalti-docs-official-repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Client Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Client Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../web/" title="Web SDK" class="md-nav__link">
      Web SDK
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Android SDK
      </label>
    
    <a href="./" title="Android SDK" class="md-nav__link md-nav__link--active">
      Android SDK
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-note" class="md-nav__link">
    Quick Note
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-attribute" class="md-nav__link">
    XML Attribute
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-button-styles" class="md-nav__link">
    Available button styles
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-config" class="md-nav__link">
    Building Config
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-config-builder-methods" class="md-nav__link">
    Available Config Builder Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-payment-preferences" class="md-nav__link">
    Available payment preferences
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-config" class="md-nav__link">
    Set Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-methods-in-khaltibutton" class="md-nav__link">
    Public Methods in KhaltiButton
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callback-methods" class="md-nav__link">
    Callback Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-sample" class="md-nav__link">
    Response Sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-message" class="md-nav__link">
    Success Message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-message" class="md-nav__link">
    Error Message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-implementations" class="md-nav__link">
    More Implementations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-with-custom-click-listener" class="md-nav__link">
    Method 1: With Custom Click Listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-with-custom-view" class="md-nav__link">
    Method 2: With Custom View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screenshots" class="md-nav__link">
    Screenshots
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ios/" title="iOS SDK" class="md-nav__link">
      iOS SDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Flutter/Dart SDK
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Flutter/Dart SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../flutter/khalti/" title="khalti" class="md-nav__link">
      khalti
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../flutter/khalti-flutter/" title="khalti_flutter" class="md-nav__link">
      khalti_flutter
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      API Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../diy-wallet/" title="Wallet" class="md-nav__link">
      Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diy-ebanking/" title="Ebanking" class="md-nav__link">
      Ebanking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Server Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Server Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/verification/" title="Verification" class="md-nav__link">
      Verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Transaction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Transaction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/transaction/" title="List" class="md-nav__link">
      List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/transaction_details/" title="Detail" class="md-nav__link">
      Detail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/transaction_status/" title="Status" class="md-nav__link">
      Status
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Plug and Play
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Plug and Play
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/woocommerce/" title="WooCommerce" class="md-nav__link">
      WooCommerce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/opencart/" title="Opencart" class="md-nav__link">
      Opencart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/magneto/" title="Magento 2" class="md-nav__link">
      Magento 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/prestashop/" title="Prestashop" class="md-nav__link">
      Prestashop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/whmcs/" title="WHMCS Khalti Module" class="md-nav__link">
      WHMCS Khalti Module
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../gotchas/" title="FAQ's and Gotchas" class="md-nav__link">
      FAQ's and Gotchas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contact-us/" title="Contact Us" class="md-nav__link">
      Contact Us
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-note" class="md-nav__link">
    Quick Note
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-attribute" class="md-nav__link">
    XML Attribute
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-button-styles" class="md-nav__link">
    Available button styles
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-config" class="md-nav__link">
    Building Config
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-config-builder-methods" class="md-nav__link">
    Available Config Builder Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-payment-preferences" class="md-nav__link">
    Available payment preferences
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-config" class="md-nav__link">
    Set Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-methods-in-khaltibutton" class="md-nav__link">
    Public Methods in KhaltiButton
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callback-methods" class="md-nav__link">
    Callback Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-sample" class="md-nav__link">
    Response Sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-message" class="md-nav__link">
    Success Message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-message" class="md-nav__link">
    Error Message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-implementations" class="md-nav__link">
    More Implementations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-with-custom-click-listener" class="md-nav__link">
    Method 1: With Custom Click Listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-with-custom-view" class="md-nav__link">
    Method 2: With Custom View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screenshots" class="md-nav__link">
    Screenshots
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/khalti/khalti-docs-official-repo/edit/master/content/checkout/android.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a href="https://khalti.com/"><img width="302.6" height="115" src="https://d7vw40z4bofef.cloudfront.net/static/2.69.07-web19/images/khalti-logo.svg"/></a></p>
<h1 id="khalti-android-sdk">Khalti Android SDK<a class="headerlink" href="#khalti-android-sdk" title="Permanent link">&para;</a></h1>
<p><img alt="Maven Central" src="https://img.shields.io/maven-central/v/com.khalti/khalti-android?color=%235C2D91" /></p>
<p>Welcome to Khalti's checkout documentation</p>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h3>
<h4 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h4>
<ul>
<li>Android 5.0 and above</li>
<li>AndroidX (as of v2.00.00)</li>
<li>Android Studio 3 and above</li>
</ul>
<h4 id="quick-note">Quick Note<a class="headerlink" href="#quick-note" title="Permanent link">&para;</a></h4>
<ul>
<li>We've dropped support of Android 4 since version <code>2.01.00</code></li>
</ul>
<h4 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h4>
<p>Add <code>khalti-android</code> to your <code>build.gradle</code> dependencies</p>
<pre><code>implementation ('com.khalti:khalti-android:$latest_version') {
        transitive = true
    }
</code></pre>

<p>Also add the following lines inside the <code>android</code> block of your <code>build.gradle</code> file</p>
<pre><code>compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
   }
</code></pre>

<p>Disable R8 by adding the following lines inside your <code>gradle.properties</code></p>
<pre><code>android.enableR8 = false
</code></pre>

<h4 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h4>
<p>Add KhaltiButton in your xml layout as follows</p>
<pre><code class="xml">&lt;com.khalti.widget.KhaltiButton
            android:id=&quot;@+id/khalti_button&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            app:khalti_button_style=&quot;khalti&quot;/&gt;

</code></pre>

<p>Add the following line in your root layout in your xml file if you're going to use <code>khalti</code> attribute.</p>
<pre><code class="xml">xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
</code></pre>

<p>Then, Locate your xml Khalti Button in your Java</p>
<pre><code class="java">KhaltiButton khaltiButton = (KhaltiButton) findViewById(R.id.khalti_button);
</code></pre>

<h5 id="xml-attribute">XML Attribute<a class="headerlink" href="#xml-attribute" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th align="left">Attribute</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>app:text</code></td>
<td align="left">Text to display</td>
</tr>
<tr>
<td align="left"><code>app:khalti_button_style</code></td>
<td align="left">Set the style of KhaltiButton from the available options</td>
</tr>
</tbody>
</table>
<p>Use the <code>khalti_button_style</code> attribute in your xml file to select a button style for your Khalti button. Or you can use the 
<code>setButtonStyle()</code> function in khalti button to set the style programmatically.</p>
<h6 id="available-button-styles">Available button styles<a class="headerlink" href="#available-button-styles" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th align="left">Button style</th>
<th align="left">Image</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">basic</td>
<td align="left"><img width="150" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/button_basic.png"/></td>
</tr>
<tr>
<td align="left">khalti</td>
<td align="left"><img width="150" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/button_khalti.png"/></td>
</tr>
<tr>
<td align="left">e_banking</td>
<td align="left"><img width="150" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/button_ebanking.png"/></td>
</tr>
<tr>
<td align="left">m_banking</td>
<td align="left"><img width="150" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/button_mobile_banking.png"/></td>
</tr>
<tr>
<td align="left">sct</td>
<td align="left"><img width="150" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/button_sct.png"/></td>
</tr>
<tr>
<td align="left">connect_ips</td>
<td align="left"><img width="150" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/button_connect_ips.png"/></td>
</tr>
</tbody>
</table>
<p>Alternatively you can also inflate KhaltiButton in your java class as follows</p>
<pre><code class="java">KhaltiButton khaltiButton = new KhaltiButton();
</code></pre>

<p>In order for Khalti button to be functional you'll need to pass an instance of <code>Config</code>.</p>
<h5 id="building-config">Building Config<a class="headerlink" href="#building-config" title="Permanent link">&para;</a></h5>
<p>Create an instance of Builder class. Pass <code>public key</code>, <code>product id</code>, <code>product name</code>, <code>amount (in paisa)</code> and an implementation of <code>OnCheckOutListener</code> to the builder constructor.</p>
<pre><code class="java">Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;merchant_extra&quot;, &quot;This is extra data&quot;);

Builder builder = new Config.Builder(Constant.pub, &quot;Product ID&quot;, &quot;Main&quot;, 1100L, new OnCheckOutListener() {
            @Override
            public void onError(@NonNull String action, @NonNull Map&lt;String, String&gt; errorMap) {
                Log.i(action, errorMap.toString());
            }

            @Override
            public void onSuccess(@NonNull Map&lt;String, Object&gt; data) {
                Log.i(&quot;success&quot;, data.toString());
            }
        })
                .paymentPreferences(new ArrayList&lt;PaymentPreference&gt;() {{
                    add(PaymentPreference.KHALTI);
                    add(PaymentPreference.EBANKING);
                    add(PaymentPreference.MOBILE_BANKING);
                    add(PaymentPreference.CONNECT_IPS);
                    add(PaymentPreference.SCT);
                }})
                .additionalData(map)
                .productUrl(&quot;http://example.com/product&quot;)
                .mobile(&quot;9800000000&quot;);
</code></pre>

<p>Here, the functions <code>paymentPreferences()</code>,<code>additionalData()</code>,<code>productUrl()</code> and <code>mobile()</code> are optional and are not required to build the config. When passing additionalData through <code>additionalData()</code> functions make sure you add a <code>merchant_</code> prefix in your map key.</p>
<p>Finally, call the <code>build()</code> function in builder to build the config.</p>
<pre><code class="java">Config config = builder.build();
</code></pre>

<h6 id="available-config-builder-methods">Available Config Builder Methods<a class="headerlink" href="#available-config-builder-methods" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th align="left">Constraint</th>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Optional</td>
<td align="left"><code>paymentPreference()</code></td>
<td align="left">Set which payment option tabs are to be shown</td>
</tr>
<tr>
<td align="left">Optional</td>
<td align="left"><code>additionalData()</code></td>
<td align="left">Set additional data</td>
</tr>
<tr>
<td align="left">Optional</td>
<td align="left"><code>productUrl()</code></td>
<td align="left">Add url of product</td>
</tr>
<tr>
<td align="left">Optional</td>
<td align="left"><code>mobile()</code></td>
<td align="left">Preset mobile number in mobile field</td>
</tr>
<tr>
<td align="left">Required</td>
<td align="left"><code>build()</code></td>
<td align="left">Build config</td>
</tr>
</tbody>
</table>
<h6 id="available-payment-preferences">Available payment preferences<a class="headerlink" href="#available-payment-preferences" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th align="left">Preferences</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>PaymentPreference.KHALTI</code></td>
<td align="left">Show Khalti payment tab</td>
</tr>
<tr>
<td align="left"><code>PaymentPreference.EBANKING</code></td>
<td align="left">Show E-banking payment tab</td>
</tr>
<tr>
<td align="left"><code>PaymentPreference.MOBILE_BANKING</code></td>
<td align="left">Show Mobile banking payment tab</td>
</tr>
<tr>
<td align="left"><code>PaymentPreference.CONNECT_IPS</code></td>
<td align="left">Show Connect IPS payment tab</td>
</tr>
<tr>
<td align="left"><code>PaymentPreference.SCT</code></td>
<td align="left">Show SCT card payment tab</td>
</tr>
</tbody>
</table>
<h5 id="set-config">Set Config<a class="headerlink" href="#set-config" title="Permanent link">&para;</a></h5>
<p>Set your config in your KhaltiButton.</p>
<pre><code class="java">khaltiButton.setCheckOutConfig(config);
</code></pre>

<h4 id="public-methods-in-khaltibutton">Public Methods in KhaltiButton<a class="headerlink" href="#public-methods-in-khaltibutton" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th align="left">Constraint</th>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Required</td>
<td align="left"><code>setCheckOutConfig(Config config)</code></td>
<td align="left">Set configuration required by Khalti checkout</td>
</tr>
<tr>
<td align="left">Optional</td>
<td align="left"><code>setText(String text)</code></td>
<td align="left">Set text to display in KhaltiButton</td>
</tr>
<tr>
<td align="left">Optional</td>
<td align="left"><code>setCustomView(View view)</code></td>
<td align="left">Replace KhaltiButton's default view with your custom view</td>
</tr>
<tr>
<td align="left">Optional</td>
<td align="left"><code>setButtonStyle(ButtonStyle buttonStyle)</code></td>
<td align="left">Select between the available options to set KhaltiButton's style</td>
</tr>
</tbody>
</table>
<h4 id="callback-methods">Callback Methods<a class="headerlink" href="#callback-methods" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>onSuccess(Map data)</code></td>
<td align="left">This method is called when a transaction has been completed and confirmed by the user. A map containing an access token, required to verify the transaction and data passed to the Config through the Config bulder is returned. Once this method is called, use the access token to verify the transaction. Please follow the <a href="../../api/verification/">verification</a> process for further instructions.</td>
</tr>
<tr>
<td align="left"><code>onError(String action, Map errorMap)</code></td>
<td align="left">This method is called when an error occurs during payment initiation or confirmation. Action and errorMap value is passed where action defines the current action being performed and errorMap has the necessary information on the error.</td>
</tr>
<tr>
<td align="left"><code>onCancel()</code></td>
<td align="left">This method is called when the user dismisses or cancels the checkout process. (When the user presses back button).</td>
</tr>
</tbody>
</table>
<h4 id="response-sample">Response Sample<a class="headerlink" href="#response-sample" title="Permanent link">&para;</a></h4>
<h6 id="success-message">Success Message<a class="headerlink" href="#success-message" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Value</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">mobile</td>
<td align="left">98XXXXXXXX</td>
<td align="left">String</td>
</tr>
<tr>
<td align="left">product_name</td>
<td align="left">Product Name</td>
<td align="left">String</td>
</tr>
<tr>
<td align="left">product_identity</td>
<td align="left">Product Id</td>
<td align="left">String</td>
</tr>
<tr>
<td align="left">product_url(if passed)</td>
<td align="left">Product Url</td>
<td align="left">String</td>
</tr>
<tr>
<td align="left">amount</td>
<td align="left">100</td>
<td align="left">Long</td>
</tr>
<tr>
<td align="left">token</td>
<td align="left">token</td>
<td align="left">String</td>
</tr>
<tr>
<td align="left">idx</td>
<td align="left">Unique identifier</td>
<td align="left">String</td>
</tr>
</tbody>
</table>
<p>The success message also contains all the <code>key</code> and <code>value</code> provided as extra data while building the <code>Config</code>.</p>
<h6 id="error-message">Error Message<a class="headerlink" href="#error-message" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th align="left">Variable</th>
<th align="left">Description</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">action</td>
<td align="left">Action performed - (initiate, confirm)</td>
<td align="left">String</td>
</tr>
<tr>
<td align="left">errorMap</td>
<td align="left">Detail Error map</td>
<td align="left">Map</td>
</tr>
</tbody>
</table>
<h4 id="more-implementations">More Implementations<a class="headerlink" href="#more-implementations" title="Permanent link">&para;</a></h4>
<h5 id="method-1-with-custom-click-listener">Method 1: With Custom Click Listener<a class="headerlink" href="#method-1-with-custom-click-listener" title="Permanent link">&para;</a></h5>
<p>Initialize the KhaltiCheckout Object</p>
<pre><code class="java">KhaltiCheckOut khaltiCheckOut = new KhaltiCheckOut(this, config);
</code></pre>

<p>Use <code>khaltiCheckout.show()</code> to display Khalti widget</p>
<pre><code class="java">khaltiButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                khaltiCheckOut.show();
            }
        });
</code></pre>

<h5 id="method-2-with-custom-view">Method 2: With Custom View<a class="headerlink" href="#method-2-with-custom-view" title="Permanent link">&para;</a></h5>
<p>Get your custom view</p>
<pre><code class="java">View view = LayoutInflater.from(this).inflate(R.layout.custom_khalti_button, container, false);
</code></pre>

<p>Set custom view to your khalti button</p>
<pre><code class="java">khaltiButton.setCustomView(view);
khaltiButton.setCheckOutConfig(config);
</code></pre>

<p>Check out the source for <a target="_blank" href="https://github.com/khalti/khalti-sdk-android">Khalti checkout on Github</a>.</p>
<p>Check out the <a href="http://docs.khalti.com/api/verification/" target="_blank">Verification</a> process.</p>
<h4 id="changelog"><a href="https://github.com/khalti/khalti-sdk-android/blob/master/CHANGELOG.md" target="_blank">Changelog</a><a class="headerlink" href="#changelog" title="Permanent link">&para;</a></h4>
<h4 id="screenshots">Screenshots<a class="headerlink" href="#screenshots" title="Permanent link">&para;</a></h4>
<p><img width="150" height="300" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/all.png"/> &nbsp;
<img width="150" height="300" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/khalti.png"/> &nbsp;
<img width="150" height="300" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/ebanking.png"/> &nbsp;
<img width="150" height="300" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/mobile_banking.png"/> &nbsp;
<img width="150" height="300" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/connect_ips.png"/> &nbsp;
<img width="150" height="300" src="https://raw.githubusercontent.com/khalti/khalti-sdk-android/master/images/sct.png"/> &nbsp;</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../web/" title="Web SDK" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Web SDK
              </span>
            </div>
          </a>
        
        
          <a href="../ios/" title="iOS SDK" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                iOS SDK
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Sparrow Pay Pvt. Ltd.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/khalti" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/KhaltiOfficial" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/khalti-digital-wallet" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://facebook.com/khaltiofficial" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.instagram.com/khaltiofficial/" class="md-footer-social__link fa fa-instagram"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>